<div class="container-fluid">
  <!--{{addBookForm.value | json}}
  </div>-->
  <form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
    <fieldset>
      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Title :</label>
            <input [class.is-invalid]="title.invalid && title.touched" formControlName="title" type="text" class="form-control">
            <small [class.d-none]="title.valid || title.untouched " class="text-danger">
              *Title is required
            </small>
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <label>ISBN :</label>
            <input [class.is-invalid]="isbn.invalid && isbn.touched" formControlName="isbn" type="text" class="form-control">
            <div *ngIf="isbn.invalid && isbn.touched">
              <small *ngIf="isbn.errors?.required" class="text-danger">*ISBN is required</small>
              <small *ngIf="isbn.errors?.pattern" class="text-danger">*ISBN is not valid.</small>
            </div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Author :</label>
            <button type="button" class="btn btn-secondary btn-xs " (click)="addAlternateAuthor()">Add more Authors</button>
            <input [class.is-invalid]="author.invalid && author.touched" formControlName="author" type="text" class="form-control">
            <small [class.d-none]="author.valid || author.untouched " class="text-danger">
              *Author is Required.
            </small>
            <div class="form-inline" formArrayName="alternateAuthors" *ngFor="let author of alternateAuthors.controls; let i = index">
              <input type="text" class="form-control my-1" [formControlName]="i">
              <button class="btn btn warn btn-xs" *ngIf="alternateAuthors.length > 0" (click)="deleteField(i)"> X
              </button>
            </div>

          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <label>Sector :</label>
            <select [class.is-invalid]="sector.invalid && sector.touched" formControlName="sector" class="form-control"
              id="sector">
              <option *ngFor="let sector of sectors" [value]="sector.name">
                {{sector.name}}
              </option>
            </select>
            <small [class.d-none]="sector.valid || sector.untouched " class="text-danger">
              *Sector is Required.
            </small>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Pubisher :</label>
            <input [class.is-invalid]="publisher.invalid && publisher.touched" formControlName="publisher" type="text"
              class="form-control">
            <small [class.d-none]="publisher.valid ||
                publisher.untouched " class="text-danger">
              *Publisher is Required
            </small>
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <label>Publish Date:</label>
            <input [class.is-invalid]="publishDate.invalid && publishDate.touched" formControlName="publishDate" type="date"
              class="form-control" placeholder="Date of Publish">
            <small [class.d-none]="publishDate.valid || publishDate.untouched " class="text-danger">
              *Publish Date is Required.
            </small>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Pages :</label>
        <input [class.is-invalid]="pages.invalid && pages.touched" formControlName="pages" type="number" class="form-control">
        <small [class.d-none]="pages.valid || pages.untouched " class="text-danger">
          *No of Pages is Required.
        </small>
      </div>

      <button data-toggle="modal" data-target="#exampleModel" [disabled]='!addBookForm.valid' class="btn btn-primary"
        type="submit">ADD TO LIBRARY</button>
      <button class="btn btn-secondary ml-2" type="reset">Clear</button>
      <!-- <button (click)="loadApiData()" class="btn btn-secondary ml-2" type="button">Load API data</button> -->

    </fieldset>
  </form>

</div>
